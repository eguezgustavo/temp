2 MÓDULO DE GESTION DE INFRACCIONES DE TRÁFICO (SISTEMA MGI)                                
El Módulo de Gestión de Infracciones (o MGI) será el conjunto de sistemas y equipos encargados de recibir la información de los equipos de campo para llevar a cabo su procesado, almacenamiento, generación de las correspondientes infracciones y notificación de las mismas a los infractores.                 
Para reducir riesgos en seguridad del software, el contratista deberá establecer los procedimientos de control correspondientes.
El centro de control contará con un completo Modulo de Gestión de Infracciones (MGI), que deberá cubrir la gestión integral del ciclo sancionador ante infracciones de:                
● Control de paso de semáforo rojo y detección de giros prohibidos en cruces controlados: El sistema de foto-multa estará basado en la infracción por violación de la luz roja de los semáforos, en cada una de las vías de entrada y en cada una de las intersecciones definidas. Adicionalmente será capaz de detectar giros prohibidos en las intersecciones controladas. El objetivo de este sistema es el de concienciar a los conductores de la necesidad de respetar los semáforos y giros con el fin de mejorar la seguridad vial de los peatones y evitar colisiones de vehículos.
Los equipos de campo, foto rojo serán ubicados en las siguientes vías: Tabla 1.07: Relación de puntos con sistema de foto rojo.                                         
Cinemómetros para detección de exceso puntual de velocidad o de velocidad media en tramo: Adicionalmente al sistema de foto-multas en las intersecciones de la ciudad, se implementará también un sistema de fiscalización por control de la velocidad instantánea y velocidad media con el fin de mejorar las condiciones circulatorias y la seguridad vial que estará integrado en la aplicación software MGI del Centro de Control.
Los equipos de campo para el control de velocidad considerados en el Proyecto se encuentran ubicados sobre las siguientes vías:                         
Cabe indicar que en algunos puntos se instalaran en ambos sentidos, siendo un total de 19 equipos
Monitorización de vehículos que transportan mercancías peligrosas: El sistema será capaz de detectar y comunicar alarmas de detecciones de vehículos que transporten mercancías peligrosas para su seguimiento por el núcleo urbano y, en caso que se detecte circulación por vías prohibidas, se generará la correspondiente infracción.
●  Monitorización de vehículos pesados: Para determinados tramos o rutas restringidas a la circulación (total o parcial) de vehículos pesados el sistema deberá identificar estos vehículos y generar la correspondiente infracción en caso que se incumpla la restricción de circulación. Las reglas de sanción (tipos o clases de vehículos) deberán ser configurables, así como el calendario con las franjas horarias de aplicación. La clasificación de los vehículos podrá realizarse mediante cotejado de matrícula (local o en centro de control) o bien mediante la clasificación en campo del vehículo (visión artificial, radar u otras técnicas).
●  Monitorización de Vías y Carriles de uso exclusivo para transporte público. El sistema deberá identificar a los vehículos que invadan estos carriles reservados sin autorización, generando la correspondiente papeleta de infracción asociada. Para determinar si procede infracción o no el sistema deberá cotejar la placa de matrícula con (a) listas de Vehículos Transporte Público y (b) Listas de Autorizados (Vehículos Emergencias)                                                         
o El sistema deberá incorporar un calendario configurable con las franjas horarias de aplicación de las restricciones                
o El sistema central debe proporcionar una interfaz para la consulta y administración de las listas se están almacenadas en el propio sistema, y/o implementar los servicios correspondan                
para su consulta online a otros sistemas (Ej: Consorcios de
Transporte).
● El sistema deberá contemplar también el acceso a zonas reguladas
mediante instalación con bolardos retractiles y/o equipos de lectura de matrícula. En este caso desde centro de control se tendrá que:
o Recopilar los tránsitos generado por los equipos de lectura de matrícula, cotejándolos con las listas de autorizados (Ej.: residentes, vehículos de emergencia, etc.) para generar en centro de control la correspondiente denuncia en caso de un acceso no autorizado.        
o Mantener actualizada las listas blancas de los puntos de acceso con pilonas para que de forma automática se realice la apertura para los vehículos autorizados.
o Gestionar de forma automática (mediante algún plan preestablecido) o forzada la apertura o cierre de los bolardos
o El sistema deberá incorporar un calendario configurable con las franjas horarias de aplicación de las restricciones.                
● El sistema deberá controlar también la aplicación de Restricción Vehicular en Episodios de Alta Contaminación. Para ello el sistema deberá:                        
o Proporcionar una interfaz de usuario para definir los distintos escenarios que contemple la normativa y asignar a cada escenario las restricciones que apliquen en cada caso.
o Para cada restricción se debe poder configurar las reglas de restricción, las franjar horarias de aplicación, y las excepciones. o Para cada vehículo que incumpla la restricción se generará una única infracción al día. El sistema debe implementar un control
de duplicados
Para lo cual el proyecto contempla la ubicación de cámaras de sensor de reconocimiento de placas, en las siguientes vías del proyecto:                                 
El sistema deberá cubrir el ciclo completo de la infracción incorporando un backoffice, que permita la integración con los actuales sistemas de gestión de sanciones, y la emisión de boletines de denuncia, constituyéndose en un sistema de gestión de infracciones global.
Deberá estar basado en una arquitectura distribuida, escalable y estándares abiertos que permita la optimización de las integraciones con los equipos de campo y con el resto de los elementos implicados.
2.1. Requisitos funcionales de la solución
A continuación, se describe la funcionalidad que se espera en este Módulo de Gestión de Infracciones:
Proceso de Captación de la Infracciones
Las infracciones registradas por los equipos deberán estar constituidas por un fichero de texto con los datos de la infracción y una o varias imágenes, empaquetados y encriptados en un archivo que se enviará automáticamente desde los equipos en campo a un servidor FTP del centro de control, donde quedarán almacenados temporalmente en un repositorio hasta que sean procesados por el Modulo de Recepción de Infracciones (IR).
Para un mayor control del proceso de recolección de infracciones, el Repositorio temporal de Infracciones deberá estar organizado de tal forma que cada equipamiento disponga de su carpeta individual de descarga. Así mismo el módulo de recepción de infracciones (IR) dispondrá de un procesador individual para cada equipamiento, que ejecute barridos de periodicidad configurable realizando para        
cada fichero de infracción que encuentre en la carpeta individual el siguiente procedimiento:
1.                                                                                                          
Desencriptación y desempaquetado del fichero y lectura de los datos de infracción (contenidos en el fichero de texto), realizando una serie de comprobaciones:
a) Verificación de la localización, número de serie y modelo del equipamiento
b) Verificación de la integridad de las imágenes y, en el caso de equipos que requieran certificación metrológica, se verificará la validez de certificado en el momento de la infracción.
c) Verificación de los umbrales: de velocidad en el caso de los radares o de tiempo en el caso de los foto-rojo. Se verificará también que la medida esté dentro del rango valido y sea consecuente (caso de velocidad) con los límites de la vía en ese punto.
d) Verificación de fechas futuras (previene de infracciones invalidas por errores de sincronización horaria de los equipamientos) y comprobación de infracción duplicada.
2.                                                                                                  
Una vez pasadas todas las comprobaciones se realizará el registro en BBDD de los datos de la infracción y el registro del fichero de infracción en el repositorio del sistema (Almacén de ficheros de infracción). En este almacén se mantendrá el fichero encriptado evitando así el acceso no autorizado al contenido de las infracciones.
3.                                                                                                          
Finalmente se realiza el borrado del fichero de infracción del servidor FTP, a fin de evitar duplicidades                                         
El módulo de Recepción de Infracciones (IR) presentará una arquitectura modular y escalable, que permita ampliar la capacidad de carga al tiempo que mantiene la eficiencia, al permitir el reparto de la carga en varios módulos que puedan estar o no en la misma instancia/servidor.        
Procesado de la Infracción                
El procesado de la infracción deberá permitir realizar las siguientes acciones:        
1. Validación de los datos de la infracción: Mostrar al operador una pantalla que permite comprobar la siguiente información:
●  Fecha y hora de la infracción                                                                                         
●  Naturaleza y lugar de la infracción
●  Equipo que ha detectado la infracción y datos relevantes de éste, como
la caducidad del certificado metrológico si aplica.
●  Imagen(es) del vehículo que ha cometido la infracción
●  Matrícula reconocida por el OCR
En esta fase se deberá permitir que en caso de que el OCR no hubiese identificado correctamente la placa, el operador pueda introducir o corregir manualmente la misma. Tras validar los datos el operador podrá rechazar la infracción o bien validarla para dar paso al siguiente proceso de validación. En caso de que el operador decida el rechazo de la misma será obligatorio introducir el motivo de dicho rechazo (imposibilidad de reconocer la matrícula, aparición de múltiples vehículos en la fotografía, etc.), de forma que quede registrado en el sistema tanto el motivo del rechazo como el operador que                
llevó a cabo la validación. De esta forma es posible realizar una auditoría del proceso y revisar las infracciones rechazadas.
Para facilitar el trabajo de los operadores el sistema dispondrá de herramientas para el tratamiento de imágenes de forma que se permita modificar el contraste, brillo, etc., garantizando una correcta identificación visual de la matrícula. El visor también proporcionará herramientas de recorte y selección para:
●  Seleccionar la foto que se imprimirá en el expediente (Boletín)        
●  Recortar una zona de interés (matricula, zoom del vehículo)
●  Ocultar áreas de la foto (como por ejemplo rostros) por cuestiones de privacidad.
2. Validación de los datos del vehículo: Una vez confirmada la placa de matrícula, el sistema deberá consultar de forma automática dicha placa en el Registro Único de Vehículos o entidad que corresponda (A través del módulo correspondiente), con el fin de obtener todos los datos de disponibles del vehículo.
Estos datos son lo que se mostrarán al operador junto con la imagen del vehículo, para que pueda validarlos. Los datos a validar serán:
● Tipo de vehículo: automóvil, camión, motocicleta, etc.
● Marca, modelo, color, fecha de inscripción vehicular y número de
chasis
● Uso de vehículo: público, privado, etc.
● Otros datos: medidas; cilindrada, potencia, peso, etc.
En caso no exista coincidencia (caso por ejemplo de vehículos extranjeros) el operador deberá poder introducir manualmente los datos, quedando registrados estos en base de datos. Estos datos podrán ser reutilizados en futuras infracciones para ese mismo número de matrícula. En caso de incongruencia de los datos, o imposibilidad de completado, el operador podrá optar por rechazar la infracción, quedando registrado el motivo de rechazo y el identificador operador.
3. Validación de los datos del propietario/conductor: Con los datos de vehículos confirmados, el sistema deberá mostrar los datos del propietario de vehículo (obtenidos del registro de vehículos), para que el operador pueda verificarlos o, si no están disponibles, pueda complementarlos. Los datos de conductor complementados quedarán igualmente registrados en la BBDD de MGI, disponibles para futuras infracciones (evitando así que el operador tenga que volver a introducirlos). Los datos que se deben validar del conductor serán los imprescindibles para cumplir los requisitos legales establecidos y poder emitir correctamente el boletín de denuncia, según los requisitos establecidos. Entre los datos que se toman en consideración se encuentran los siguientes:
●  Nombre, apellidos, fecha de nacimiento, género y nacionalidad
●  Dirección / Localidad / Distrito / Provincia                                                                                                                                         
●  Tipo de utilización del vehículo: titular/propietario, conductor
habitual, conductor ocasional
●  Licencia (No De Licencia, Tipo, Fecha de expiración)
Igual que en pasos anteriores de validación, en caso de incongruencia de los datos, o imposibilidad de completado, el operador podrá optar por rechazar la infracción, quedando registrado el motivo de rechazo y el identificador operador.
4. Generación de la Papeleta de infracción: Una vez validada la infracción en todas las verificaciones anteriores, el sistema deberá proceder a la generación de la multa, en la que se mostrará al operador un borrador de la papeleta de infracción, a fin de que pueda verificar su correcta composición. En este punto aún se podrá acceder a las otras validaciones, con objeto de modificar o incorporar información pendiente. Una vez el operador valide la papeleta presentada, el sistema generará la papeleta definitiva, incluyendo las marcas de agua, la firma digital y bloqueando cualquier la edición sobre la misma.                
Tratamiento múltiple de infracciones
El sistema deberá disponer de un modo de procesado de infracciones que permita seleccionar mediante un filtro qué infracciones va a tratar, siendo posible seleccionarlas por diferentes criterios: equipo detector de la infracción, rangos de fechas, otros... Las infracciones que cumplan los criterios seleccionados serán mostradas automáticamente al operador una tras otra. Además, a la hora de procesar las infracciones será posible seleccionar de qué parte del proceso se encarga cada operador, de forma tal que un operador no tenga por qué realizar la validación del ciclo completo de la infracción, sino encargarse únicamente de una de ellas (validación de datos de infracción, validación de datos del vehículo, validación de datos del conductor o generación del boletín de denuncia), dejando en manos de otros operadores la realización de demás partes del proceso.                
Consulta Avanzada de infracciones
Deberá proporcionar el detalle de infracción con todos sus datos integrados. El sistema deberá permitir realizar la búsqueda de infracciones mediante un filtro flexible con múltiples criterios:
●  Identificador de una infracción.
●  Estado de una infracción.
●  Matrícula del vehículo infractor.
●  Equipo que ha detectado la infracción.
●  Ubicación de la infracción (Localización, Punto de Control, Área y/o                
Ruta)
●  Fecha de la infracción.        
●  Tipo de infracción.
●  Velocidad (para las infracciones correspondientes)
●  Cod. Remesa de Exportación
●  Código de Agente (Validador)
●  Código o Número de Expediente
El listado de infracciones resultante de aplicar el filtro deberá contemplar, al menos, las siguientes columnas:                        
1. identificador de la infracción
2. Fecha de Infracción
3. Estado
4. Matricula de vehículo infractor
5. Velocidad
6. Equipo que ha detectado la infracción
7. Localización
8. Remesa de exportación
9. Código o Número de Expediente.
10. Código de Agente (Validador)
11. Fecha de Procesado
12. Fecha de Generación de la Papeleta.
13. Autoridad Legal responsable de la tramitación
Deberá ser posible acceder al detalle completo de la infracción que presenta todos sus datos de manera integrada:
●  Infracción. Deberá mostrar todos los datos disponibles de la infracción, tanto los registrados en el momento de la infracción y contenidos en el fichero de texto adjuntado por el equipamiento, como los datos generados como consecuencia de flujo de procesado de la infracción.        
●  Vehículo. Deberá presentar todos los datos del vehículo obtenidos del Registro Único de Vehículos, así como los datos cumplimentados manualmente por el operador. En este apartado se listarán también las alertas que el vehículo pueda tener por estar en una lista de vehículos buscados.
●  Conductor. De la misma forma que en vehículos, se deberán mostrar todos los datos del conductor obtenidos del Registro Único de Vehículos o de la entidad correspondiente, así como los datos complementados manualmente por el operador.
●  Histórico. Se deberá mostrará un histórico completo de la evolución de la infracción con:
1. Estado de la infracción (Ej: Registrada, Validada Infracción, Validado Vehículo, Validado Conductor, Descartada, etc).
2. Fecha en la que se produjo el cambio de estado
3. Operador (o módulo si se trata de una operación de sistema) que realizó la operación asociada al cambio de estado
(validación, firmado, envío, notificación, etc).
●  Ficheros Asociados. Se deberá mostrar en forma de árbol el listado completo de fichero asociados a la infracción, los cuales pueden ser: 1. FicheroencriptadodeInfracción.Conaccesoasucontenido:                                                         
a. Fichero de datos
b. Imágenes
2. Recorte de Imagen de la matricula
3. Imagen seleccionada para el expediente 4. Papeleta o notificación asociada.
5. Otros documentos
Monitorización Estado General del Sistema y los Equipamientos de Campo
En la pantalla principal de la aplicación se deberá disponer de un panel (dashboard, configurable por perfil y/o rol) desde el que se pueda observar un resumen del estado del sistema en su conjunto, con las siguientes características funcionales:
●  Árbol de Mantenimiento, donde se pueda ver la jerarquía de todos los elementos del sistema puntos de control, localizaciones, equipamientos, rutas, áreas, etc. Desde el árbol se podrá acceder a las pantallas de detalle correspondientes de cada equipo particular.
●  Mapa, donde de forma georeferenciada, y actualizada en tiempo real se pueda ver toda la información disponible de cada equipamiento: configuración básica, estados, alarmas, últimos datos recibidos, etc.                                                                                                 
●  Ultimas infracciones. Listado de la ultimas infracciones recibidas por el sistema.
●  Estado de Procesamiento. resumen del estado de procesamiento de las infracciones.                
● Ultimas infracciones por equipo, listado de todos los equipos, junto con la última infracción recibida, que facilite la rápida identificación de incidencias en los equipos.
Se deberá permitir ver los equipos que se encuentran dados de alta en el sistema, así como consultar su estado y alarmas, contemplando al menos la siguiente información por equipo:
●  No de Serie. Número único de identificación del equipo.
●  Tipo. Se representará mediante un icono particular para cada tipo
de equipo (LPR, Radar, Foto Rojo, Bolardos, etc.)
●  Modelo y localización
●  Estado: Activo, comunica, alarmas
●  Certificado: Para los equipos que requieren de certificación, aquí
se muestra la fecha de caducidad del certificado vigente
Administración de Entidades del Sistema
Se entiendo por entidad a la representación lógica y/o física de un objeto del mundo real, que tendrán asociadas un conjunto de propiedades que las describen. Entre las entidades administrables del MGI se deberá contar al menos con las siguientes:
Equipamientos
Los equipamientos es la entidad que representa a los equipos físicos instalados en el terreno. El MGI deberá contar con una pantalla dedicada a administrar la configuración de los equipamientos situados en campo que deberá permitir al menos:
1. Listado: Se presentará inicialmente una tabla con todo el equipamiento registrado en el sistema que no haya sido previamente dado de baja. El listado podrá ordenarse ascendente o descendentemente por cualquiera de sus columnas que serán como mínimo:
*                                                                                                          
●  Tipo: indicará el tipo de equipamiento instalado sobre el terreno.
*                                                                                                          
●  Estado: indicará el estado operativo del equipamiento o si está dado de baja.
*                                                                                                          
●  Comunicaciones: indicará si el equipo tiene activas las comunicaciones.
*                                                                                                          
●  Alarmas: indicará el nivel de la alarma de mayor gravedad que presenta el equipamiento.
*                                                                                                          
●  Certificados: cuando aplica representará la fecha de caducidad, junto una representación con colores de la proximidad a la fecha de caducidad
Para realizar una búsqueda, o restringir el número de registros a mostrar en el listado, se tendrán que rellenar los campos pertinentes que aparecerán en el filtro de búsqueda tal y como se indica a continuación.
2. Filtro para búsquedas introduciendo los parámetros de consulta para filtrar el listado de equipamiento. Los criterios que podrán aplicarse, serán como mínimo:
*                                                                                                          
●  Id.: se mostrará en el listado el equipamiento cuyo identificador coincida con el indicado.
*                                                                                                          
●  No Serie: se mostrarán los equipamientos cuyo número de serie coincida con el indicado en el formulario. Este campo debe permitir el uso de comodines.
*                                                                                                          
●  Alias: se mostrarán los equipamientos cuyo alias coincida con el indicado. Se puede utilizar el carácter asterisco (*) para realizar búsquedas similares.
*                                                                                                          
●  Tipo: se mostrará un combo con el listado de tipos de equipamiento registrados en el sistema. Acompañado al nombre que identifica cada tipo de equipamiento, se asocia un icono que lo identifica.
*                                                                                                          
●  Modelo: se mostrará un combo con el listado de modelos de equipamiento registrados en el sistema. Se mostrarán los registros asociados al modelo o modelos seleccionados.
*                                                                                                          
●  Estado: se mostrará un combo con el listado de estados a los que podrá estar asociado un equipamiento. Mediante una opción “BAJA”, se mostrará en el listado el conjunto de equipamientos que hayan sido dados de baja.
*                                                                                                          
●  Vía: se mostrará un combo con el listado de vías registradas en el sistema y en las que están situados los equipamientos. En el listado se mostrarán los equipamientos asociados a la vía seleccionada.
*                                                                                                          
●  Desde Km/No: se mostrarán los equipamientos cuyo punto kilométrico se sitúe desde el definido en adelante. Es un campo de tipo numérico.
*                                                                                                          
●  Hasta Km/No: se mostrarán los equipamientos cuyo punto kilométrico se sitúe desde el definido hacia atrás. Es un campo de tipo numérico.
*                                                                                                          
●  Se podrán utilizar los dos campos anteriormente citados, para definir los límites entre los que se sitúa el equipamiento.
*                                                                                                          
●  Área: se mostrará un combo con el listado de áreas registradas en el sistema, y en la cual se sitúan los equipamientos. En el listado se mostrarán los
equipamientos asociados al área seleccionada.
*                                                                                                          
●  Ruta: se mostrará un combo con el listado de rutas registradas en el sistema, y en la cual se sitúan los equipamientos. En el listado se mostrarán los
equipamientos asociados a la ruta seleccionada.
3. Detalle: Al seleccionar uno de los registros de equipamiento del listado deberá desplegarse el panel de detalle con los datos referentes al equipamiento que se seleccione y permitiendo la modificación de los datos recogidos para este equipamiento. Este panel de detalle se compondrá al menos de las siguientes áreas diferenciadas:
● Datos Básicos: mostrará los parámetros que definen un equipamiento. Al menos contendrá:
o Equipo: Id.Equipo, NoSerie, Alias, Tipo, Modelo, Estado y Centro de Control
o Operativa: Tratamiento de infracciones, tratamiento de datos de tráfico, comunica y exportación de datos.
o Localización ● Datos Avanzados:
o Propiedades: Dentro del apartado de Propiedades se mostrará en forma de árbol jerarquizado el conjunto de propiedades que definan el equipamiento. Algunas de las propiedades que se podrán visualizar, serán, entre otras, la Localización, Límite de velocidad, Sensores, Carriles, Cámaras, etc.
o Localizaciones: Dentro de la pestaña Localizaciones, en la pantalla de Detalle del equipamiento seleccionado, se mostrará el listado
de localizaciones disponibles para asociar el equipamiento seleccionado, debiendo permitirse además añadir o eliminar una localización de esta lista. Durante este proceso, se autocompletará de forma automática el campo Localización del formulario de Detalle del equipamiento seleccionado, con el nombre de la localización y un enlace. Al pulsar en el enlace, se accederá a la pantalla de Detalle de la pantalla de Localizaciones. Esta ventana se compondrá de al menos dos pestañas, que mostrarán los distintos aspectos que definen una localización:
o Operativa: Dentro del apartado de Operativa, se mostrará de forma gráfica el estado y las opciones de operación del equipamiento en el terreno. En la cabecera se mostrará la información referente al equipamiento seleccionado. Los datos que aparecerán al menos deberán ser: Id.Equipamiento, Modelo, NoSerie, Instalación y estado de las comunicaciones.
o Documentos: se mostrará el conjunto de documentos asociados a dicho equipamiento. Estos se distribuirán en una estructura de carpetas y archivos. Se incorporará un visor de documentos básicos. Se debe permitir también la administración de los ficheros/carpetas (carga, descarga, borrado, cambio de carpeta)
Para guardar los cambios realizados en la configuración se pulsará el botón correspondiente, que estará situado en la barra de herramientas El diseño de la pantalla de administración de entidades permitirá expandir o colapsar el filtro, el listado y/o el detalle, mediante los controles correspondientes que aparecerán en las diferentes secciones.
Localizaciones
Las localizaciones son entidades lógicas y/o físicas, que representan la ubicación de los equipamientos en el terreno. El MGI deberá contar con una pantalla dedicada a administrar la configuración de las localizaciones de los equipamientos que deberá permitir al menos:
● Realizar filtro de búsqueda: permitirá introducir los parámetros de consulta para filtrar el listado de localizaciones. Inicialmente, el listado de localizaciones mostrará todas las localizaciones registradas en el sistema, y que no se hayan dado previamente de baja. En el caso en que el usuario tenga un centro de control asignado, el listado mostrará únicamente las localizaciones de los equipamientos registradas en dicho centro de control.
*                                                                                                          
●  Mostrar listado: mostrará una tabla con el listado de las localizaciones registradas en el sistema, filtrados según los criterios seleccionados en el filtro de búsqueda. En la sección de Listado aparecerá la lista de localizaciones que cumplen con los criterios de filtrado escogidos una vez que se aplique. Por defecto, el listado mostrará todas las localizaciones registradas en el sistema que cumplan con los criterios de filtrado establecidos. Esta lista podrá ser ordenada de forma ascendente o descendente por campos de tipo numérico o fecha (o en el caso de campos de tipo texto, de forma alfabética de la A-Z, o de la Z-A).
*                                                                                                          
●  Mostrar Detalle: deberá mostrar los datos referentes a la localización seleccionada. Dispondrá al menos de los siguientes parámetros:
o Identificador: identificador de la localización
o Alias: designación de la localización.
o Tipo: define el tipo de localización seleccionada
o Estado: define el estado operacional de la localización
o Tipo de vía: define el tipo de vía en la que se encuentra el
equipamiento asignado a la localización seleccionada.
● Vía: define el nombre de la vía en que se encuentra el equipamiento asignado a la localización seleccionada. El contenido del combo variará
en función del tipo de vía seleccionada.
● Km/No: define el punto kilométrico en la que se localiza el equipamiento
sobre la vía. En el caso que sea una calle, se define con el número de la
calle.
● Sentido: define el sentido de la vía en el que circulan los vehículos, y
que será controlado por el equipamiento asignado a la localización.
● Carril: indica el número del carril para la vía seleccionada, que será
controlado por el equipamiento asignado a la localización.
● Autoridad Legal: muestra el listado de las autoridades legales asociados a una localización, es decir a las autoridades a las que llegarán los boletines de denuncia,
●Mapa: mostrará la representación geográfica del equipamiento seleccionado. Dentro de la pestaña de Mapa, en la pantalla de Detalle de la localización seleccionada, se mostrará la ubicación física del equipamiento. Las coordenadas asociadas equipamiento se podrán asignar en el de formulario de detalle de la localización, o en el caso en que sean desconocidas, el usuario podrá seleccionar su ubicación utilizando la pestaña del Mapa mediante los controles específicos implementados para este fin.
Puntos de Control
Los puntos de control serán la entidad que representarán agrupaciones lógicas de un grupo de localizaciones. Desde esta funcionalidad se deberá administrar la configuración de los puntos de control de la aplicación y deberá contener las siguientes funciones:
● Filtro de búsqueda: permitirá introducir los parámetros de consulta para filtrar el listado de puntos de control. Al menos, se podrá filtrar por:
o Identificador
o Alias. Se permitirá el uso de comodines o Estado:
o Vía en la que se ubica el punto de control
● Listado: deberá presentar una tabla con el listado de los puntos de control registrados en el sistema, filtrados según los criterios seleccionados en el filtro de búsqueda. Por defecto, el listado mostrará todos los puntos de control registrados en el sistema, y que cumplen con los criterios de filtrado establecidos. Esta lista podrá ser ordenada de forma ascendente o descendente por campos de tipo numérico o fecha (o en el caso de campos de tipo texto, de forma alfabética de la A-Z, o de la Z-A). Para ello, bastará pulsar sobre la cabecera de la columna, en el campo que será la base para ordenar el conjunto de puntos de control.
● Detalle: deberá mostrar los datos referentes al punto de control seleccionado. presentará al menos los siguientes datos:
o
Punto de Control:
*                                                                                                          
▪  Id.: identificador del punto de control, el cual lo identificará del
resto de puntos de control ya creados. Es un campo de tipo
numérico, y obligatorio.
*                                                                                                          
▪  Alias: designación del punto de control. Es un campo de tipo
texto, y obligatorio.
*                                                                                                          
▪  Estado: define el estado operacional del punto de control
seleccionado. Se muestra un combo con el listado de estados disponibles para un punto de control (Operativo, No Operativo, Baja). Es un campo de tipo combo, y obligatorio.
*                                                                                                          
▪  Código: define el código asignado al punto de control.
*                                                                                                          
▪  Referencia: define la referencia asignada al punto de control.
*                                                                                                          
▪  Centro Control: este parámetro solo será visible en caso de
que el usuario no tenga un centro de control asignado. En caso contrario, el centro de control coincidirá con el asignado al usuario.
Ubicación:
*                                                                                                          
▪  Tipo de vía: define el tipo de vía en la que se encuentra localizado el punto de control.
*                                                                                                          
▪  Vía: define el nombre de la vía en que se encuentra el punto de control. El contenido del combo variará en función del tipo de vía seleccionada.
*                                                                                                          
▪  País: define el país en el que se encuentra el punto de control.
*                                                                                                          
▪  Composición de la vía: describe la composición de la vía en el punto de control. La composición de la vía incluye el número de calzadas y carriles, así como el sentido de cada uno de
ellos.
*                                                                                                          
▪  Punto de referencia: define el punto de referencia asociado al
punto de control (texto libre).
*                                                                                                          
▪  Sección: define la sección asociada al punto de control (texto
libre).
*                                                                                                          
▪  Orientación de la vía: define la orientación de la vía en el
punto de control.
*                                                                                                          
▪  Localizaciones: mostrará las localizaciones asociadas al
punto de control seleccionado, así como el listado de las localizaciones disponibles, que se pueden asociar el punto de control seleccionado. Se deberá permitir al menos realizar las siguientes funciones:
o
▪ Incidencias: muestra las incidencias asociadas al punto de control seleccionado. Se permitirá realizar al menos las siguientes operaciones:
● Alta incidencia: permitirá crear una nueva incidencia. Se mostrará una ventana con un formulario para dar de alta la incidencia con al menos los siguientes campos:
o Desde: se indicará la fecha de inicio en que se registran las incidencias para el punto de control escogido. Se seleccionará mediante un calendario, que aparecerá debajo del campo a rellenar. Será un campo obligatorio.
o Hasta: se indicará la fecha de fin en para el registro de incidencias, para el punto de control escogido. Se seleccionará mediante un calendario, que aparecerá debajo del campo a rellenar. Será un campo obligatorio.
o Comentarios: guardará la descripción de la incidencia. Será un campo de tipo texto (texto libre), y obligatorio.
*                                                                                                          
●  Modificar incidencia:
*                                                                                                          
●  Eliminar incidencia:
*                                                                                                          
●  Copiar a: permitirá copiar la incidencia seleccionada a
otro punto de control.
● Mapa: Será la representación geográfica del punto de control por la que se mostrará la localización en el campo del punto de control seleccionado. Las coordenadas asociadas al punto de control podrán asignarse en el de formulario de detalle de un punto de control, o en el caso en que sean desconocidas, el usuario podrá seleccionar la ubicación del punto de control utilizando la pestaña del Mapa. Se dispondrá de un botón para guardar los cambios.
Tramos y Rutas
Los tramos y rutas son relaciones lógicas que se definen como la conexión entre dos o más puntos de control. La funcionalidad que se requiere deberá comprender al menos lo siguiente:
*                                                                                                          
●  Listado: mostrará una tabla con el listado de los tramos y rutas registrados en el sistema.
*                                                                                                          
●  Detalle: mostrará los datos referentes al tramo seleccionado. Además, permitirá modificar los datos recogidos para este tramo. Al menos mostrara los siguientes parámetros:
o Id tramo: identificador del tramo, el cual lo identificará del resto de tramos ya creados. Será un campo tipo numérico y obligatorio.
o Alias: designación del tramo, será un campo de tipo texto y obligatorio.
o Habilitado: indicará si el tramo seleccionado está habilitado.
o Longitud.
o Reversible: indicará si el tramo seleccionado es reversible, o
no.
o Ctrol. Horario: indica si el tramo seleccionado aplica control por
franjas horarias
● Características del tramo o de cada segmento de la ruta:
o Velocidad: define el límite de velocidad máximo de la vía en el
tramo seleccionado.
Áreas
o Umbral de velocidad: nivel de tolerancia superior sobre la velocidad máxima de la vía, en el tramo seleccionado.
o T. Viaje: define el tiempo de viaje máximo en el que se espera que un vehículo recorra y abandone el tramo seleccionado.
o Umbral de tiempo: nivel de tolerancia superior aplicado sobre
el tiempo de viaje
Las áreas deberán ser relaciones lógicas de un grupo de puntos de control cuya finalidad será conectar varios puntos de control, de tal forma que el conjunto de dichos puntos forme un contexto determinado. Existirá un regulador de área que determinará, en función del área definida, el control de accesos. La pantalla consta de dos secciones:
*                                                                                                          
●  Listado: mostrará una tabla con el listado de las áreas registradas en el sistema. Asimismo, contendrá una barra de herramientas para la creación y el borrado de entidades. El listado a presentar podrá acotarse aplicando de forma independiente alguno de los siguientes criterios de filtrado: Identificador de área, Alias, Tipo de área (contexto), prioridad, centro de control o control horario.
*                                                                                                          
●  Detalle: mostrará los datos referentes al área seleccionada:
o Puntos de control: Desde el botón correspondiente se podrán añadir nuevos puntos de control en el área seleccionada. Aparecerá una ventana emergente con una lista de los puntos de control que podrán asignarse. De la misma forma, se podrá desasignar un punto de control, seleccionando el punto de
control de la lista, y pinchando en el botón correspondiente.
o Mapa: El mapa será una representación gráfica de los puntos de
control situados en un área geográfica determinada.
Administración de Certificados
El sistema dispondrá de un listado de certificados de todo el equipamiento que lo requiera, almacenando de cada uno al menos el tipo de certificado, que será seleccionable desde una lista que igualmente será configurable, el equipamiento particular para el que se expidió el certificado, así como la validez y caducidad del mismo. Desde la lista de certificados, los administradores podrán acceder a la pantalla de detalles de un determinado certificado, donde se pueden ver los datos básicos del mismo, y en función de su estado, el tipo de localización y los permisos del usuario.
Administración de Calendarios Tipos de Día
El sistema deberá permitir Desde la pantalla de Tipos de día se crearán y gestionarán los tipos de día que se puedan dar de alta en el sistema, en relación al control de acceso y la gestión de infracciones, como, por ejemplo: Laborables (de lunes a viernes), Festivo (domingo y festivos), No laborable (sábados, domingos y festivos), etc. El sistema mostrará una tabla “Listado” en el que aparecerán todos los tipos de día dados de alta en el sistema que podrá ordenarse de forma ascendente o descendente pulsando sobre la cabecera de la columna cuyo campo será la base para ordenar el conjunto de tipos de días. En esta ventana podrán crearse nuevos y eliminar tipos de día existentes.
Calendarios
La funcionalidad de Calendario permitirá editar el calendario para un año determinado, de tal forma que se pueda asociar un tipo de día a una fecha concreta, y planificar episodios de restricción vehicular, de control de accesos, etc. Desde esta funcionalidad, se administrarán los siguientes elementos:
● Listar los calendarios registrados en el sistema
● Visualización anual de los calendarios registrados ● Edición los calendarios registrados en el sistema
Administración y Gestión de Listas Negras
El sistema deberá ser capaz de gestionar listas de vehículos en búsqueda (lista negra de vehículos) de forma que en el momento de recepción de una transito se comprueba si el vehículo se encuentra en alguna de ellas. En caso afirmativo el sistema emite automáticamente una alerta advirtiendo al operador que se ha detectado un vehículo en estado de búsqueda. De esta forma es posible alertar en caso de que se identifique un vehículo que se encuentra en búsqueda por parte de la policía, o bien vehículos que tienen pendientes otras infracciones.
El sistema debe proporcionar una interfaz para la administración y gestión de estas listas negras, con al menos la siguiente funcionalidad:
● Creación, visualización, modificación y eliminación de listas ● Asignación, consulta y eliminación de vehículos en las listas
Administración y Gestión de Listas de Autorizados (blancas)
Para las funcionalidades de monitorización de vías y carriles de uso exclusivo, de acceso a zonas reguladas y de restricción vehicular en episodios de contaminación el sistema deberá proporcionar una interfaz para la administración y gestión de listas de vehículos autorizados, con al menos la siguiente funcionalidad:
● Creación, visualización, modificación y eliminación de listas ● Asignación, consulta y eliminación de vehículos en las listas
2.2. Requisitos de instalación
Módulo de Gestión de Infracciones (MGI): El Centro de Control contará con el equipamiento hardware / software para la plataforma que garantice la alta disponibilidad de los servicios que gestiona. Dicha plataforma se alojará en un centro de datos seguro que será accesible de forma remota y segura, previa identificación de los usuarios.
El MGI deberá ser capaz de integrarse con una serie de servicios de bases de datos existentes que permitan la obtención de la información de vehículos y conductores propietarios de los mismos del registro único vehicular. Se deberán considerar al menos 2 integraciones necesarias que van a permitir la obtención de todos los datos y registros necesarios mediante servicios web (webservice) para la emisión automatizada de las papeletas de infracciones:
1.                                                                                                          
Integración con la Base de Datos del Registro de Vehículos
2.                                                                                                          
Integración con el servicio de multas electrónicas para la notificación
de las infracciones detectadas.
Adicionalmente será también requerida la implementación del envío de una notificación informativa de la infracción por los siguientes medios electrónicos
● Por correo electrónico a la dirección del titular del vehículo.
3 MÓDULO DE INFORMACIÓN DE FLUJO VEHICULAR Y TIEMPOS DE RECORRIDO
A parte de la detección de incidencias propias basada en los dispositivos controlados por el propio sistema, se dispondrá de un módulo encargado de la detección automática de incidencias por visión, permitiendo visualizar los datos de tráfico, la información, estados y alarmas generadas.
El sistema representará los equipos de videodetección de forma gráfica sobre un mapa, haciendo referencia al punto en el que se encuentran instalados, mediante un icono identificativo y que, a su vez, informará del estado de funcionamiento mediante un código de colores establecido (coherente con el del resto de equipos controlados).
El sistema de gestión centralizada deberá tratar las alarmas y avisos de los videodetectores representando:
*                                                                                                          
●  Estado y datos de las cámaras del sistema de detección.
*                                                                                                          
●  Estado del servidor encargado de realizar el análisis de las imágenes.
*                                                                                                          
●  Consulta de las alarmas de los dispositivos asociados al sistema de
detección.
Las alarmas gestionadas y proporcionadas por los sistemas de detección, dependerán del fabricante, debiendo estas ser integradas en la plataforma de gestión de la movilidad.
En cuanto a parámetros y medidas, los videodetectores serán capaces de recoger datos de tráfico (volumen, velocidad, ocupación, clasificación,..), seguimiento del flujo de tráfico, cálculo de tiempo de recorridos, detección y seguimiento de movimiento y estacionamiento de vehículos en las intersecciones con semáforos, etc.
Automatismos
El módulo de videodetección también tendrá asociadas una serie de actuaciones automáticas. Estas actuaciones consisten en:
*                                                                                                          
●  Enclavamiento múltiple de las cámaras en la que se haya detectado la incidencia y cámaras cercanas.
*                                                                                                          
●  Ejecución programada de un conjunto de acciones ordenadas en planes o macrocomandos.
3.1. License Plate Recongnition (LPR)
El módulo de reconocimiento de placas de matrícula de vehículos será otro medio no intrusivo de obtener información del estado del tráfico y medidas de aforos basado en visión por computador que deberá poder integrarse en la plataforma de gestión centralizada.
Desde el análisis de las imágenes que se recibirán de las cámaras específicas de este sistema se obtendrán datos de tiempo del tránsito de cada vehículo por cada uno de los puntos de control por los que circule, lo que posibilitará la obtención de medidas de velocidad puntual de cada recorrido concreto de un vehículo y esta información se procesará, asociada al tramo de vía que corresponda en cada caso para pasar a formar parte de los promedios de velocidad de cada sección de vía que se usarán posteriormente para calcular el tiempo de recorrido de en cada tramo.
El sistema representará los equipos de lectura de matrículas de forma gráfica sobre un mapa, haciendo referencia al punto en el que se encuentran instalados,
mediante un icono identificativo y que, a su vez, informará del estado de funcionamiento mediante un código de colores establecido (coherente con el del resto de equipos controlados).
La información proporcionada por los equipos deberá ser de dos tipos:
a) Modo monitor
Permite consultar los últimos tránsitos detectados, así como comprobar en tiempo real los nuevos tránsitos según van siendo detectados. La información es mostrada en una ventana donde se muestra la siguiente información:
b)
●
● ● ●
Listado con últimos vehículos detectados, indicando para cada uno de ellos, matrícula, fecha y hora en la que el vehículo fue detectado, y la nacionalidad del vehículo.
Imagen general del último vehículo detectado.
Imagen de detalle de la matrícula del último vehículo detectado. Matrícula reconocida del último vehículo detectado.
Modo supervisor
Mostrará la información de los últimos vehículos detectados en un tramo de vía seleccionado, así como la evolución del tiempo de recorrido y velocidad media de los vehículos a lo largo de la última hora en el tramo controlado. La información disponible en la plataforma deberá incluir al menos la siguiente información:
● Listado con los últimos vehículos que han sido detectados entre los puntos considerados para ofrecer información de tiempos de recorrido, esto es, que han sido detectados por los dos sistemas de reconocimiento que están configurados como inicio y fin de un itinerario. Para cada uno de los vehículos detectados, se deberá mostrar:
o La matrícula del vehículo reconocida por el sistema.
o La fecha y hora de paso por el punto inicial del trayecto.
o La fecha y hora de paso por el punto final del trayecto.
o El tiempo empleado para recorrer la distancia que separa ambos
puntos.
o La velocidad media a la que ha realizado el recorrido. o La nacionalidad del vehículo.
● Imagen
del trayecto.
general del último vehículo detectado en el punto de paso inicio
*                                                                                                          
●  Imagen de detalle de la matrícula del último vehículo detectado.
*                                                                                                          
●  Matrícula del último vehículo detectado en el punto de inicio del trayecto.
*                                                                                                          
●  Imagen general del último vehículo detectado a su paso por el punto final
del trayecto.
*                                                                                                          
●  Imagen de detalle de la matrícula del último vehículo detectado.
*                                                                                                          
●  Matrícula del último vehículo detectado en el punto final del trayecto.
*                                                                                                          
●  Tiempo de recorrido estimado para el trayecto considerado.
*                                                                                                          
●  Gráfica de evolución de tiempos de recorrido y velocidades medias en la
última hora.
3.2. Gestión de tiempos de recorrido
El tiempo de recorrido, o de viaje, es la única variable común a diferentes medios de transporte, que permite comparar con un criterio objetivo, el rendimiento de un desplazamiento, ayudando al conductor a conocer cuantitativamente el estado de la vía. Esta información permitirá al usuario tomar decisiones sobre la ruta a tomar en su desplazamiento. Por ello, el sistema dispondrá de algoritmos de tráfico para ofrecer automáticamente la información relevante sobre los recorridos, pudiendo notificarse estos datos a través del módulo de señalización quien podrá definir un conjunto de rutas que irán desde el panel hasta las salidas más próximas. La ruta
estará formada por tramos de comportamiento de tráfico homogéneo y el tiempo de recorrido total será la suma de los distintos tramos en que se divida la ruta.
Adquisición de datos
En el cálculo de tiempos de recorrido, el sistema puede contar igualmente, con los datos aportados por los Lectores de Matrícula (LPR) y videodetectores. La actualización de los datos vendrá dada en función del período de integración de los datos de tráfico.
Representación gráfica
El sistema deberá gestionar todos los datos relativos a las rutas (PK de inicio y fin, lista de tramos que la integran, tiempo de recorrido, etc.), así como cualquier información relevante para la supervisión y control de los cálculos llevados a cabo desde los algoritmos. Por tanto, desde la aplicación de gestión de tráfico deberá ser posible tanto la consulta de los tiempos de recorrido calculados, como la activación de los mismos para su señalización automática en los Paneles de Mensaje Variable predeterminados para señalizar la duración estimada en recorrer cada tramo.
A través del interfaz gráfica, el sistema deberá presentar el tiempo de recorrido desde un punto de origen determinado a distintos destinos, o en aquellos casos en los que sea posible alcanzar un destino por varios itinerarios, el tiempo de recorrido necesario para alcanzar el destino por cada uno de los itinerarios posibles.
El sistema también deberá contar con la elaboración de índices de fiabilidad del tiempo estimado, de forma que el operador del sistema considere si es oportuna la activación/desactivación de la señalización. El sistema deberá dejar de enviar la señalización de tiempos de recorrido a los paneles, si se detecta que el índice de fiabilidad desciende por debajo de un umbral determinado.
De este modo, los operadores del centro de control serán capaces de al menos de:
*                                                                                                          
●  Poder comprobar visualmente en la aplicación centralizada los tiempos de recorridos establecidos en cada panel
*                                                                                                          
●  Activar o desactivar el envío de los tiempos de recorrido a cada panel
*                                                                                                          
●  Visualizar en tiempo real la propuesta de tiempos de recorrido sin necesidad que esta información se esté mostrando en los paneles
*                                                                                                          
●  Observar desde una misma ventana, el nivel de servicio de los puntos de medida que conforman cada una de las rutas de tiempos de recorrido, de forma que resulte rápido e intuitivo conocer el estado general de una ruta.
*                                                                                                          
●  Mapas donde visualizar los datos ofrecidos.
La necesaria integración de los sistemas de reconocimiento de matrículas, junto con el Módulo de Ingeniería de Tráfico y el Gestor de Señalización, permitirán al sistema ofrecer un mecanismo fiable de información mediante la señalización de tiempos de viaje en los Paneles de Mensajes Variable.
Generación de informes
El sistema reportará al módulo de gestión de informes los históricos de los valores de los tiempos de recorrido mostrados en los paneles, de forma que permitirá conocer su evolución. El módulo de gestión de
informes permitirá obtener informes gráficos sobre los tiempos de recorrido.
4 EQUIPOS DE CAMPO
El proyecto contempla la ubicación de cámaras de tráfico con la finalidad de poder captar los flujos vehiculares en los cruces principales: